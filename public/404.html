<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Página no encontrada</title>
    <script type="text/javascript">
      // Redirigir a la página principal
      var pathSegmentsToKeep = 2
      var l = window.location

      // Verificar que no estemos ya en una redirección
      if (!l.search || l.search.indexOf('?/') === -1) {
        var basePath = l.pathname
          .split('/')
          .slice(0, 1 + pathSegmentsToKeep)
          .join('/')

        var remainingPath = l.pathname
          .slice(1)
          .split('/')
          .slice(pathSegmentsToKeep)
          .join('/')

        // Solo redirigir si hay un path restante
        if (remainingPath) {
          var redirectUrl =
            l.protocol +
            '//' +
            l.hostname +
            (l.port ? ':' + l.port : '') +
            basePath +
            '/?/' +
            remainingPath.replace(/&/g, '~and~') +
            (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
            l.hash

          l.replace(redirectUrl)
        } else {
          // Si no hay path restante, solo ir a la página principal
          l.replace(basePath + '/')
        }
      }
    </script>
  </head>
  <body>
    <h1>Página no encontrada</h1>
    <p>Redirigiendo...</p>
  </body>
</html>
